<!doctype html>
<html lang="en" class="h-100">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.87.0">
    <title>Temperature Converter</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/sticky-footer-navbar/">

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>


    <!-- Custom styles for this template -->
    <link href="sticky-footer-navbar.css" rel="stylesheet">
</head>

<body class="d-flex flex-column h-100">

    <header>
        <!-- Fixed navbar -->
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
            <div class="container-fluid">
            </div>
        </nav>
    </header>

    <!-- Begin page content -->
    <main class="flex-shrink-0">
        <div class="container" style="padding: 60px 15px 0;">
            <form class="row g-3" action="/" method="post">
                <h1>Temperature Converter</h1>
                    <p>POD: <%= machine %></p>
                    <p>Version: <%= pkgversion %></p>
                <div class="mb-3 row">
                    <select class="form-select" aria-label="Default select example" id="selectTemp" name="selectTemp">
                        <option selected value="1">Celsius => Fahrenheit</option>
                        <option value="2">Fahrenheit => Celsius</option>
                    </select>
                </div>
                <div class="mb-3 row">
                    <label for="valueRef" class="form-label">Value:</label>
                    <input type="number" class="form-control" id="valueRef" name="valueRef">
                </div>
                <div>
                    <button type="submit" class="btn btn-primary mb-3">Convert</button>
                </div>
            </form>
            <% if(convertedValue){ %>
                <h3>Converted Value</h3>
                <%= convertedValue %>
             <% } %>            
             
             <!-- Latest conversions section -->
             <% if(latestConversions && latestConversions.length > 0){ %>
                <div class="mt-4">
                    <h3>ðŸ•’ Latest 10 Conversions</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th>Original Value</th>
                                    <th>Converted Value</th>
                                    <th>Conversion Type</th>
                                    <th>Date/Time</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% latestConversions.forEach(function(conversion) { %>
                                <tr>
                                    <td><%= parseFloat(conversion.original_value).toFixed(1) %>Â°</td>
                                    <td><%= parseFloat(conversion.converted_value).toFixed(1) %>Â°</td>
                                    <td>
                                        <% if(conversion.conversion_type.includes('Celsius to Fahrenheit')) { %>
                                            <span class="badge bg-primary">Â°C â†’ Â°F</span>
                                        <% } else { %>
                                            <span class="badge bg-success">Â°F â†’ Â°C</span>
                                        <% } %>
                                    </td>
                                    <td>
                                        <%= new Date(conversion.timestamp).toLocaleString('en-US', {
                                            day: '2-digit',
                                            month: '2-digit',
                                            year: 'numeric',
                                            hour: '2-digit',
                                            minute: '2-digit'
                                        }) %>
                                    </td>
                                </tr>
                                <% }); %>
                            </tbody>
                        </table>
                    </div>
                </div>
             <% } else { %>
                <div class="mt-4">
                    <div class="alert alert-info" role="alert">
                        ðŸ“Š No conversions made yet. Make your first conversion!
                    </div>
                </div>
             <% } %>
        </div>
    </main>
    <footer class="footer mt-auto py-3 bg-light">
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
        crossorigin="anonymous"></script>
</body>

</html>